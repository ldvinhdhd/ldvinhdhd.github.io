<!DOCTYPE html>
<html>

      <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Pop/Soda/Coke According to Twitter</title>
        <link rel="canonical" href="https://nathanrooy.github.io/posts/2016-10-26/pop-soda-coke/">

        <!-- Meta (general) -->
        <meta name="author" content="Nathan Rooy">
        <meta name="copyright" content="Nathan A. Rooy">
        <meta name="description" content="a collection of random projects">
        <meta name="keywords" content="Python, tutorials, machine learning, deep learning, natural language processing, evolutionary optimization, urban design, mobility, geospatial analysis, data science, web scraping, Cincinnati">
        <meta name="language" content="en">
        <meta name="viewport" content="width=device-width">
        
        <!-- Meta (Twitter) -->
        <meta name="twitter:card" content="https://nathanrooy.github.io">
        <meta name="twitter:description" content="a collection of random projects">
        <meta name="twitter:title" content="Pop/Soda/Coke According to Twitter">
        <meta name="twitter:image" content="">
        
        <!-- Open Graph -->
        <meta property="og:description" content="a collection of random projects">
        <meta property="og:image" content="">
        <meta property="og:locale" content="en_US">
        <meta property="og:site_name" content="nathanrooy.github.io">
        <meta property="og:title" content="Pop/Soda/Coke According to Twitter">
        <meta property="og:type" content="article">
        <meta property="og:url" content="https://nathanrooy.github.io/posts/2016-10-26/pop-soda-coke/">
        
        <!-- For all browsers -->
        <link rel="stylesheet" href="/assets/css/main.css">

        <!-- Favicon -->
        <link rel="shortcut icon" href="/favicon.png">
        
        <!-- GOOGLE ANALYTICS -->
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-88488688-1', 'auto');
            ga('send', 'pageview');
        </script>
        
        <!--- INCLUDE INLINE FOOTNOTES JAVASCRIPT -->
        <script src="/assets/js/inlineNotes.js"></script>
        
        <!--- MATHJAX --->
        <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>
    </head>

    <body>

    <header id="site-header">
    <div class="wrap">
        <span>
            <h1>Nathan Rooy</h1>
            <hr size="10">
            <a href="/about/">About</a>
            <a href="mailto:nathanrooy@gmail.com?Subject=githubpage">Contact</a>
            <a href="/">Home</a>
        </span>
    </div>
</header>

    <div id="page-content">
      <div class="wrap">
      <div class="post">
    
    
    <header class="post-header">
        <h1>Pop/Soda/Coke According to Twitter</h1>
        <p class="post-meta">October 10, 2016</p>
    </header>
    
    
    <br>

    <article class="post-content">
        <p>I have always been impressed with the Pop/Soda map created by Alan McConchie (<a target="_blank" href="http://popvssoda.com/">here</a>) so I decided to create my own. Instead of asking for user submissions like McConchie, I asked Twitter to decide. To accomplish this, I wrote a script in Python that took advantage of the Twitter API and recorded the location of every geotagged tweet that included a reference to “pop”, “soda” or “coke”. Because pop/soda/coke can have multiple meanings and usages, I created a simple machine learning classifier to better determine if a tweet should be included or not. Below are the results.</p>

<center>
    <figure>
        <a target="_blank" href="/images/2016-10-26/01.jpg"><img src="/images/2016-10-26/01.jpg" alt="" /></a>
    </figure>
</center>

<p>Because the Twitter API only allows access to roughly 1% of the full Twitter stream, and geotagged tweets only make up roughly 1% of total tweets, it took a while to get enough tweets. From July 2015 until present (September 2016) the Twitter API provided only 67,495 tweets containing the words “pop”, “soda”, or “coke”. Because these words can be used in many ways I had to create a filter to allow only the references I wanted. To do this, I had to implement some machine learning courtesy of SciKit-Learn and Python. I first created a random forest decision tree classifier which got me most of the way there. To classify the remaining tweets I vectorized the tweet text and utilized the Bayesian classifier. This enabled me to ignore tweets such as: “King of Pop”, “pop music”, “rum and coke” or “come to the Nike Pop-Up” and other similar useless tweets. After this filtering, the population of usable tweets substantially decreased to under 10k total tweets.</p>

<p>Overall I’m fairly disappointed with the initial results. There does seem to be a few areas that match the trends found in McConchie’s map which is good to see. But ultimately I need to keep harvesting more tweets so that I can have more data to work with. Because of this, I’ll continue to run my Python script, and will likely update this map in a year or so…</p>

    </article>
    
    
    <!--- TAGS SECTION --->
    
    
    
    <!--- DIVIDING LINE -->
    
    <hr style="margin-top:-3em; margin-bottom:3em; height:1px; background-color:#d6d6d6; border:0;">
    
    
    <!-- POST TAGS -->
    <span class="tags" style="margin-bottom:4em; color:#808080;">TAGS:
    
    <a style="color:#808080" href="/tags/#qgis">#qgis</a>
    
    <a style="color:#808080" href="/tags/#twitter">#twitter</a>
    
    <a style="color:#808080" href="/tags/#machine learning">#machine learning</a>
    
    <a style="color:#808080" href="/tags/#python">#python</a>
    
    </span>

    <br>
    <br>
    <br>
    <br>
    
    
    
    <!--- END TAGS SECTION --->
    
</div>

      </div>
    </div>

    <footer class="site-footer">

<center>
    &copy; 2019  <a href="/about">Nathan A. Rooy</a>.
    <br>
    Built with <a target="_blank" href="http://jekyllrb.com" rel="nofollow">Jekyll</a>.
    Powered by <a target="_blank" href="http://www.github.com">GitHub</a>
    </center>
    
</footer>

    </body>
</html>
